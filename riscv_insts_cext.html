<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>riscv_insts_cext</title></head>
<body>
<code style="display: block">
/*&nbsp;*********************************************************************&nbsp;*/<br>
/*&nbsp;This&nbsp;file&nbsp;specifies&nbsp;the&nbsp;compressed&nbsp;instructions&nbsp;in&nbsp;the&nbsp;'C'&nbsp;extension.&nbsp;*/<br>
<br>
/*&nbsp;These&nbsp;instructions&nbsp;are&nbsp;only&nbsp;legal&nbsp;if&nbsp;misa.C()&nbsp;is&nbsp;true.&nbsp;&nbsp;Instead&nbsp;of<br>
&nbsp;*&nbsp;checking&nbsp;this&nbsp;in&nbsp;every&nbsp;execute&nbsp;clause,&nbsp;we&nbsp;currently&nbsp;do&nbsp;the&nbsp;check&nbsp;in&nbsp;one&nbsp;place<br>
&nbsp;*&nbsp;in&nbsp;the&nbsp;fetch-execute&nbsp;logic.<br>
&nbsp;*/<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_NOP&nbsp;:&nbsp;unit<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_NOP()</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b000&nbsp;@&nbsp;0b0&nbsp;@&nbsp;0b00000&nbsp;@&nbsp;0b00000&nbsp;@&nbsp;0b01<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;C_NOP()&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">RETIRE_SUCCESS</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_NOP()&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.nop&quot;</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_ADDI4SPN&nbsp;:&nbsp;(cregidx,&nbsp;bits(8))<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_ADDI4SPN(rd,&nbsp;nz96&nbsp;@&nbsp;nz54&nbsp;@&nbsp;nz3&nbsp;@&nbsp;nz2)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nz96&nbsp;@&nbsp;nz54&nbsp;@&nbsp;nz3&nbsp;@&nbsp;nz2&nbsp;!=&nbsp;0b00000000<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b000&nbsp;@&nbsp;nz54&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;nz96&nbsp;:&nbsp;bits(4)&nbsp;@&nbsp;nz2&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;nz3&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;rd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b00<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nz96&nbsp;@&nbsp;nz54&nbsp;@&nbsp;nz3&nbsp;@&nbsp;nz2&nbsp;!=&nbsp;0b00000000<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_ADDI4SPN(rdc,&nbsp;nzimm))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;(0b00&nbsp;@&nbsp;nzimm&nbsp;@&nbsp;0b00);<br>
&nbsp;&nbsp;let&nbsp;rd&nbsp;=&nbsp;creg2reg_idx(rdc);<br>
&nbsp;&nbsp;execute(ITYPE(imm,&nbsp;sp,&nbsp;rd,&nbsp;RISCV_ADDI))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_ADDI4SPN(rdc,&nbsp;nzimm)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzimm&nbsp;!=&nbsp;0b00000000<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.addi4spn&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rdc)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_10(nzimm&nbsp;@&nbsp;0b00)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzimm&nbsp;!=&nbsp;0b00000000<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_LW&nbsp;:&nbsp;(bits(5),&nbsp;cregidx,&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_LW(ui6&nbsp;@&nbsp;ui53&nbsp;@&nbsp;ui2,&nbsp;rs1,&nbsp;rd)</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b010&nbsp;@&nbsp;ui53&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;rs1&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;ui2&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;ui6&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;rd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b00<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_LW(uimm,&nbsp;rsc,&nbsp;rdc))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;EXTZ(uimm&nbsp;@&nbsp;0b00);<br>
&nbsp;&nbsp;let&nbsp;rd&nbsp;=&nbsp;creg2reg_idx(rdc);<br>
&nbsp;&nbsp;let&nbsp;rs&nbsp;=&nbsp;creg2reg_idx(rsc);<br>
&nbsp;&nbsp;execute(LOAD(imm,&nbsp;rs,&nbsp;rd,&nbsp;false,&nbsp;WORD,&nbsp;false,&nbsp;false))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_LW(uimm,&nbsp;rsc,&nbsp;rdc)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.lw&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rdc)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;creg_name(rsc)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_7(uimm&nbsp;@&nbsp;0b00)</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_LD&nbsp;:&nbsp;(bits(5),&nbsp;cregidx,&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_LD(ui76&nbsp;@&nbsp;ui53,&nbsp;rs1,&nbsp;rd)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b011&nbsp;@&nbsp;ui53&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;rs1&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;ui76&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;rd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b00<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_LD(uimm,&nbsp;rsc,&nbsp;rdc))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;EXTZ(uimm&nbsp;@&nbsp;0b000);<br>
&nbsp;&nbsp;let&nbsp;rd&nbsp;=&nbsp;creg2reg_idx(rdc);<br>
&nbsp;&nbsp;let&nbsp;rs&nbsp;=&nbsp;creg2reg_idx(rsc);<br>
&nbsp;&nbsp;execute(LOAD(imm,&nbsp;rs,&nbsp;rd,&nbsp;false,&nbsp;DOUBLE,&nbsp;false,&nbsp;false))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_LD(uimm,&nbsp;rsc,&nbsp;rdc)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.ld&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rdc)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;creg_name(rsc)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_8(uimm&nbsp;@&nbsp;0b000)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_SW&nbsp;:&nbsp;(bits(5),&nbsp;cregidx,&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_SW(ui6&nbsp;@&nbsp;ui53&nbsp;@&nbsp;ui2,&nbsp;rs1,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b110&nbsp;@&nbsp;ui53&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;rs1&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;ui2&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;ui6&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;rs2&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b00<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_SW(uimm,&nbsp;rsc1,&nbsp;rsc2))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;EXTZ(uimm&nbsp;@&nbsp;0b00);<br>
&nbsp;&nbsp;let&nbsp;rs1&nbsp;=&nbsp;creg2reg_idx(rsc1);<br>
&nbsp;&nbsp;let&nbsp;rs2&nbsp;=&nbsp;creg2reg_idx(rsc2);<br>
&nbsp;&nbsp;execute(STORE(imm,&nbsp;rs2,&nbsp;rs1,&nbsp;WORD,&nbsp;false,&nbsp;false))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_SW(uimm,&nbsp;rsc1,&nbsp;rsc2)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.sw&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rsc1)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;creg_name(rsc2)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_7(uimm&nbsp;@&nbsp;0b00)</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_SD&nbsp;:&nbsp;(bits(5),&nbsp;cregidx,&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_SD(ui76&nbsp;@&nbsp;ui53,&nbsp;rs1,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b111&nbsp;@&nbsp;ui53&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;rs1&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;ui76&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;rs2&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;0b00<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_SD(uimm,&nbsp;rsc1,&nbsp;rsc2))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;EXTZ(uimm&nbsp;@&nbsp;0b000);<br>
&nbsp;&nbsp;let&nbsp;rs1&nbsp;=&nbsp;creg2reg_idx(rsc1);<br>
&nbsp;&nbsp;let&nbsp;rs2&nbsp;=&nbsp;creg2reg_idx(rsc2);<br>
&nbsp;&nbsp;execute(STORE(imm,&nbsp;rs2,&nbsp;rs1,&nbsp;DOUBLE,&nbsp;false,&nbsp;false))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_SD(uimm,&nbsp;rsc1,&nbsp;rsc2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.sd&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rsc1)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;creg_name(rsc2)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_8(uimm&nbsp;@&nbsp;0b000)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_ADDI&nbsp;:&nbsp;(bits(6),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_ADDI(nzi5&nbsp;@&nbsp;nzi40,&nbsp;rsd)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzi5&nbsp;@&nbsp;nzi40&nbsp;!=&nbsp;0b000000&nbsp;&&nbsp;rsd&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b000&nbsp;@&nbsp;nzi5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;rsd&nbsp;:&nbsp;regidx&nbsp;@&nbsp;nzi40&nbsp;:&nbsp;bits(5)&nbsp;@&nbsp;0b01<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzi5&nbsp;@&nbsp;nzi40&nbsp;!=&nbsp;0b000000&nbsp;&&nbsp;rsd&nbsp;!=&nbsp;zreg<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_ADDI(nzi,&nbsp;rsd))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;EXTS(nzi);<br>
&nbsp;&nbsp;execute(ITYPE(imm,&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_ADDI))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_ADDI(nzi,&nbsp;rsd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzi&nbsp;!=&nbsp;0b000000&nbsp;&&nbsp;rsd&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.addi&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(nzi)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzi&nbsp;!=&nbsp;0b000000&nbsp;&&nbsp;rsd&nbsp;!=&nbsp;zreg<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_JAL&nbsp;:&nbsp;(bits(11))<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">C_JAL(i11&nbsp;@&nbsp;i10&nbsp;@&nbsp;i98&nbsp;@&nbsp;i7&nbsp;@&nbsp;i6&nbsp;@&nbsp;i5&nbsp;@&nbsp;i4&nbsp;@&nbsp;i31)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;32<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b001&nbsp;@&nbsp;i11&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i4&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i98&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;i10&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i6&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i7&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i31&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;i5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;0b01<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;32<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_JAL(imm))&nbsp;=<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">execute(RISCV_JAL(EXTS(imm&nbsp;@&nbsp;0b0),&nbsp;ra))</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_JAL(imm)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;32<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;c.jal&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;hex_bits_12(imm&nbsp;@&nbsp;0b0)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;32<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_ADDIW&nbsp;:&nbsp;(bits(6),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_ADDIW(imm5&nbsp;@&nbsp;imm40,&nbsp;rsd)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rsd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b001&nbsp;@&nbsp;imm5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;rsd&nbsp;:&nbsp;regidx&nbsp;@&nbsp;imm40&nbsp;:&nbsp;bits(5)&nbsp;@&nbsp;0b01<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rsd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_ADDIW(imm,&nbsp;rsd))&nbsp;=<br>
&nbsp;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">execute(ADDIW(EXTS(imm),&nbsp;rsd,&nbsp;rsd))</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_ADDIW(imm,&nbsp;rsd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.addiw&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(imm)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_LI&nbsp;:&nbsp;(bits(6),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_LI(imm5&nbsp;@&nbsp;imm40,&nbsp;rd)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b010&nbsp;@&nbsp;imm5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;rd&nbsp;:&nbsp;regidx&nbsp;@&nbsp;imm40&nbsp;:&nbsp;bits(5)&nbsp;@&nbsp;0b01<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_LI(imm,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;EXTS(imm);<br>
&nbsp;&nbsp;execute(ITYPE(imm,&nbsp;zreg,&nbsp;rd,&nbsp;RISCV_ADDI))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_LI(imm,&nbsp;rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.li&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(imm)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_ADDI16SP&nbsp;:&nbsp;(bits(6))<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_ADDI16SP(nzi9&nbsp;@&nbsp;nzi87&nbsp;@&nbsp;nzi6&nbsp;@&nbsp;nzi5&nbsp;@&nbsp;nzi4)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzi9&nbsp;@&nbsp;nzi87&nbsp;@&nbsp;nzi6&nbsp;@&nbsp;nzi5&nbsp;@&nbsp;nzi4&nbsp;!=&nbsp;0b000000<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b011&nbsp;@&nbsp;nzi9&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;/*&nbsp;x2&nbsp;*/&nbsp;0b00010&nbsp;@&nbsp;nzi4&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;nzi6&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;nzi87&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;nzi5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;0b01<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzi9&nbsp;@&nbsp;nzi87&nbsp;@&nbsp;nzi6&nbsp;@&nbsp;nzi5&nbsp;@&nbsp;nzi4&nbsp;!=&nbsp;0b000000<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_ADDI16SP(imm))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;EXTS(imm&nbsp;@&nbsp;0x0);<br>
&nbsp;&nbsp;execute(ITYPE(imm,&nbsp;sp,&nbsp;sp,&nbsp;RISCV_ADDI))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_ADDI16SP(imm)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;imm&nbsp;!=&nbsp;0b000000<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.addi16sp&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;hex_bits_6(imm)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;imm&nbsp;!=&nbsp;0b000000<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_LUI&nbsp;:&nbsp;(bits(6),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_LUI(imm17&nbsp;@&nbsp;imm1612,&nbsp;rd)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rd&nbsp;!=&nbsp;sp&nbsp;&&nbsp;imm17&nbsp;@&nbsp;imm1612&nbsp;!=&nbsp;0b000000<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b011&nbsp;@&nbsp;imm17&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;rd&nbsp;:&nbsp;regidx&nbsp;@&nbsp;imm1612&nbsp;:&nbsp;bits(5)&nbsp;@&nbsp;0b01<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rd&nbsp;!=&nbsp;sp&nbsp;&&nbsp;imm17&nbsp;@&nbsp;imm1612&nbsp;!=&nbsp;0b000000<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_LUI(imm,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;res&nbsp;:&nbsp;bits(20)&nbsp;=&nbsp;EXTS(imm);<br>
&nbsp;&nbsp;execute(UTYPE(res,&nbsp;rd,&nbsp;RISCV_LUI))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_LUI(imm,&nbsp;rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rd&nbsp;!=&nbsp;sp&nbsp;&&nbsp;imm&nbsp;!=&nbsp;0b000000<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.lui&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(imm)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rd&nbsp;!=&nbsp;sp&nbsp;&&nbsp;imm&nbsp;!=&nbsp;0b000000<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_SRLI&nbsp;:&nbsp;(bits(6),&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_SRLI(nzui5&nbsp;@&nbsp;nzui40,&nbsp;rsd)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzui5&nbsp;@&nbsp;nzui40&nbsp;!=&nbsp;0b000000<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;nzui5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;0b00&nbsp;@&nbsp;rsd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;nzui40&nbsp;:&nbsp;bits(5)&nbsp;@&nbsp;0b01<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzui5&nbsp;@&nbsp;nzui40&nbsp;!=&nbsp;0b000000<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_SRLI(shamt,&nbsp;rsd))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rsd&nbsp;=&nbsp;creg2reg_idx(rsd);<br>
&nbsp;&nbsp;execute(SHIFTIOP(shamt,&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_SRLI))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_SRLI(shamt,&nbsp;rsd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;shamt&nbsp;!=&nbsp;0b000000<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.srli&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(shamt)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;shamt&nbsp;!=&nbsp;0b000000<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_SRAI&nbsp;:&nbsp;(bits(6),&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_SRAI(nzui5&nbsp;@&nbsp;nzui40,&nbsp;rsd)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzui5&nbsp;@&nbsp;nzui40&nbsp;!=&nbsp;0b000000<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;nzui5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;0b01&nbsp;@&nbsp;rsd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;nzui40&nbsp;:&nbsp;bits(5)&nbsp;@&nbsp;0b01<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzui5&nbsp;@&nbsp;nzui40&nbsp;!=&nbsp;0b000000<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_SRAI(shamt,&nbsp;rsd))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rsd&nbsp;=&nbsp;creg2reg_idx(rsd);<br>
&nbsp;&nbsp;execute(SHIFTIOP(shamt,&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_SRAI))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_SRAI(shamt,&nbsp;rsd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;shamt&nbsp;!=&nbsp;0b000000<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.srai&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(shamt)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;shamt&nbsp;!=&nbsp;0b000000<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_ANDI&nbsp;:&nbsp;(bits(6),&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_ANDI(i5&nbsp;@&nbsp;i40,&nbsp;rsd)</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;i5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;0b10&nbsp;@&nbsp;rsd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;i40&nbsp;:&nbsp;bits(5)&nbsp;@&nbsp;0b01<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_ANDI(imm,&nbsp;rsd))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rsd&nbsp;=&nbsp;creg2reg_idx(rsd);<br>
&nbsp;&nbsp;execute(ITYPE(EXTS(imm),&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_ANDI))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_ANDI(imm,&nbsp;rsd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.andi&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(imm)</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_SUB&nbsp;:&nbsp;(cregidx,&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_SUB(rsd,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;0b0&nbsp;@&nbsp;0b11&nbsp;@&nbsp;rsd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b00&nbsp;@&nbsp;rs2&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b01<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_SUB(rsd,&nbsp;rs2))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rsd&nbsp;=&nbsp;creg2reg_idx(rsd);<br>
&nbsp;&nbsp;let&nbsp;rs2&nbsp;=&nbsp;creg2reg_idx(rs2);<br>
&nbsp;&nbsp;execute(RTYPE(rs2,&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_SUB))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_SUB(rsd,&nbsp;rs2)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.sub&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;creg_name(rs2)</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_XOR&nbsp;:&nbsp;(cregidx,&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_XOR(rsd,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;0b0&nbsp;@&nbsp;0b11&nbsp;@&nbsp;rsd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b01&nbsp;@&nbsp;rs2&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b01<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_XOR(rsd,&nbsp;rs2))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rsd&nbsp;=&nbsp;creg2reg_idx(rsd);<br>
&nbsp;&nbsp;let&nbsp;rs2&nbsp;=&nbsp;creg2reg_idx(rs2);<br>
&nbsp;&nbsp;execute(RTYPE(rs2,&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_XOR))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_XOR(rsd,&nbsp;rs2)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.xor&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;creg_name(rs2)</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_OR&nbsp;:&nbsp;(cregidx,&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_OR(rsd,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;0b0&nbsp;@&nbsp;0b11&nbsp;@&nbsp;rsd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b10&nbsp;@&nbsp;rs2&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b01<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_OR(rsd,&nbsp;rs2))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rsd&nbsp;=&nbsp;creg2reg_idx(rsd);<br>
&nbsp;&nbsp;let&nbsp;rs2&nbsp;=&nbsp;creg2reg_idx(rs2);<br>
&nbsp;&nbsp;execute(RTYPE(rs2,&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_OR))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_OR(rsd,&nbsp;rs2)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.or&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;creg_name(rs2)</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_AND&nbsp;:&nbsp;(cregidx,&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_AND(rsd,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;0b0&nbsp;@&nbsp;0b11&nbsp;@&nbsp;rsd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b11&nbsp;@&nbsp;rs2&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b01<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_AND(rsd,&nbsp;rs2))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rsd&nbsp;=&nbsp;creg2reg_idx(rsd);<br>
&nbsp;&nbsp;let&nbsp;rs2&nbsp;=&nbsp;creg2reg_idx(rs2);<br>
&nbsp;&nbsp;execute(RTYPE(rs2,&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_AND))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_AND(rsd,&nbsp;rs2)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.and&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;creg_name(rs2)</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_SUBW&nbsp;:&nbsp;(cregidx,&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_SUBW(rsd,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;0b1&nbsp;@&nbsp;0b11&nbsp;@&nbsp;rsd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b00&nbsp;@&nbsp;rs2&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b01<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_SUBW(rsd,&nbsp;rs2))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rsd&nbsp;=&nbsp;creg2reg_idx(rsd);<br>
&nbsp;&nbsp;let&nbsp;rs2&nbsp;=&nbsp;creg2reg_idx(rs2);<br>
&nbsp;&nbsp;execute(RTYPEW(rs2,&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_SUBW))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_SUBW(rsd,&nbsp;rs2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.subw&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;creg_name(rs2)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_ADDW&nbsp;:&nbsp;(cregidx,&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_ADDW(rsd,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;0b1&nbsp;@&nbsp;0b11&nbsp;@&nbsp;rsd&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b01&nbsp;@&nbsp;rs2&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;0b01<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_ADDW(rsd,&nbsp;rs2))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;rsd&nbsp;=&nbsp;creg2reg_idx(rsd);<br>
&nbsp;&nbsp;let&nbsp;rs2&nbsp;=&nbsp;creg2reg_idx(rs2);<br>
&nbsp;&nbsp;execute(RTYPEW(rs2,&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_ADDW))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_ADDW(rsd,&nbsp;rs2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.addw&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;creg_name(rs2)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_J&nbsp;:&nbsp;(bits(11))<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_J(i11&nbsp;@&nbsp;i10&nbsp;@&nbsp;i98&nbsp;@&nbsp;i7&nbsp;@&nbsp;i6&nbsp;@&nbsp;i5&nbsp;@&nbsp;i4&nbsp;@&nbsp;i31)</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b101&nbsp;@&nbsp;i11&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i4&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i98&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;i10&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i6&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i7&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i31&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;i5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;0b01<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_J(imm))&nbsp;=<br>
&nbsp;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">execute(RISCV_JAL(EXTS(imm&nbsp;@&nbsp;0b0),&nbsp;zreg))</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_J(imm)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.j&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;hex_bits_11(imm)</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_BEQZ&nbsp;:&nbsp;(bits(8),&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_BEQZ(i8&nbsp;@&nbsp;i76&nbsp;@&nbsp;i5&nbsp;@&nbsp;i43&nbsp;@&nbsp;i21,&nbsp;rs)</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b110&nbsp;@&nbsp;i8&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i43&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;rs&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;i76&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;i21&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;i5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;0b01<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_BEQZ(imm,&nbsp;rs))&nbsp;=<br>
&nbsp;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">execute(BTYPE(EXTS(imm&nbsp;@&nbsp;0b0),&nbsp;zreg,&nbsp;creg2reg_idx(rs),&nbsp;RISCV_BEQ))</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_BEQZ(imm,&nbsp;rs)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.beqz&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rs)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_8(imm)</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_BNEZ&nbsp;:&nbsp;(bits(8),&nbsp;cregidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_BNEZ(i8&nbsp;@&nbsp;i76&nbsp;@&nbsp;i5&nbsp;@&nbsp;i43&nbsp;@&nbsp;i21,&nbsp;rs)</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b111&nbsp;@&nbsp;i8&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;i43&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;rs&nbsp;:&nbsp;cregidx&nbsp;@&nbsp;i76&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;i21&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;i5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;0b01<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_BNEZ(imm,&nbsp;rs))&nbsp;=<br>
&nbsp;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">execute(BTYPE(EXTS(imm&nbsp;@&nbsp;0b0),&nbsp;zreg,&nbsp;creg2reg_idx(rs),&nbsp;RISCV_BNE))</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_BNEZ(imm,&nbsp;rs)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.bnez&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;creg_name(rs)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_8(imm)</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_SLLI&nbsp;:&nbsp;(bits(6),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_SLLI(nzui5&nbsp;@&nbsp;nzui40,&nbsp;rsd)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzui5&nbsp;@&nbsp;nzui40&nbsp;!=&nbsp;0b000000&nbsp;&&nbsp;rsd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;(sizeof(xlen)&nbsp;==&nbsp;64&nbsp;|&nbsp;nzui5&nbsp;==&nbsp;0b0)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b000&nbsp;@&nbsp;nzui5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;rsd&nbsp;:&nbsp;regidx&nbsp;@&nbsp;nzui40&nbsp;:&nbsp;bits(5)&nbsp;@&nbsp;0b10<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;nzui5&nbsp;@&nbsp;nzui40&nbsp;!=&nbsp;0b000000&nbsp;&&nbsp;rsd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;(sizeof(xlen)&nbsp;==&nbsp;64&nbsp;|&nbsp;nzui5&nbsp;==&nbsp;0b0)<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_SLLI(shamt,&nbsp;rsd))&nbsp;=<br>
&nbsp;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">execute(SHIFTIOP(shamt,&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_SLLI))</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_SLLI(shamt,&nbsp;rsd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;shamt&nbsp;!=&nbsp;0b000000&nbsp;&&nbsp;rsd&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.slli&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(shamt)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;shamt&nbsp;!=&nbsp;0b000000&nbsp;&&nbsp;rsd&nbsp;!=&nbsp;zreg<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_LWSP&nbsp;:&nbsp;(bits(6),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_LWSP(ui76&nbsp;@&nbsp;ui5&nbsp;@&nbsp;ui42,&nbsp;rd)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b010&nbsp;@&nbsp;ui5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;rd&nbsp;:&nbsp;regidx&nbsp;@&nbsp;ui42&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;ui76&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;0b10<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_LWSP(uimm,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;EXTZ(uimm&nbsp;@&nbsp;0b00);<br>
&nbsp;&nbsp;execute(LOAD(imm,&nbsp;sp,&nbsp;rd,&nbsp;false,&nbsp;WORD,&nbsp;false,&nbsp;false))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_LWSP(uimm,&nbsp;rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.lwsp&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(uimm)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_LDSP&nbsp;:&nbsp;(bits(6),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_LDSP(ui86&nbsp;@&nbsp;ui5&nbsp;@&nbsp;ui43,&nbsp;rd)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b011&nbsp;@&nbsp;ui5&nbsp;:&nbsp;bits(1)&nbsp;@&nbsp;rd&nbsp;:&nbsp;regidx&nbsp;@&nbsp;ui43&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;ui86&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;0b10<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_LDSP(uimm,&nbsp;rd))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;EXTZ(uimm&nbsp;@&nbsp;0b000);<br>
&nbsp;&nbsp;execute(LOAD(imm,&nbsp;sp,&nbsp;rd,&nbsp;false,&nbsp;DOUBLE,&nbsp;false,&nbsp;false))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_LDSP(uimm,&nbsp;rd)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.ldsp&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(uimm)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_SWSP&nbsp;:&nbsp;(bits(6),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_SWSP(ui76&nbsp;@&nbsp;ui52,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b110&nbsp;@&nbsp;ui52&nbsp;:&nbsp;bits(4)&nbsp;@&nbsp;ui76&nbsp;:&nbsp;bits(2)&nbsp;@&nbsp;rs2&nbsp;:&nbsp;regidx&nbsp;@&nbsp;0b10<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_SWSP(uimm,&nbsp;rs2))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;EXTZ(uimm&nbsp;@&nbsp;0b00);<br>
&nbsp;&nbsp;execute(STORE(imm,&nbsp;rs2,&nbsp;sp,&nbsp;WORD,&nbsp;false,&nbsp;false))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_SWSP(uimm,&nbsp;rd)<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.swsp&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(uimm)</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_SDSP&nbsp;:&nbsp;(bits(6),&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_SDSP(ui86&nbsp;@&nbsp;ui53,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b111&nbsp;@&nbsp;ui53&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;ui86&nbsp;:&nbsp;bits(3)&nbsp;@&nbsp;rs2&nbsp;:&nbsp;regidx&nbsp;@&nbsp;0b10<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_SDSP(uimm,&nbsp;rs2))&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">{<br>
&nbsp;&nbsp;let&nbsp;imm&nbsp;:&nbsp;bits(12)&nbsp;=&nbsp;EXTZ(uimm&nbsp;@&nbsp;0b000);<br>
&nbsp;&nbsp;execute(STORE(imm,&nbsp;rs2,&nbsp;sp,&nbsp;DOUBLE,&nbsp;false,&nbsp;false))<br>
}</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_SDSP(uimm,&nbsp;rs2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.sdsp&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rs2)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;hex_bits_6(uimm)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;sizeof(xlen)&nbsp;==&nbsp;64<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_JR&nbsp;:&nbsp;(regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_JR(rs1)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rs1&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;0b0&nbsp;@&nbsp;rs1&nbsp;:&nbsp;regidx&nbsp;@&nbsp;0b00000&nbsp;@&nbsp;0b10<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rs1&nbsp;!=&nbsp;zreg<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_JR(rs1))&nbsp;=<br>
&nbsp;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">execute(RISCV_JALR(EXTZ(0b0),&nbsp;rs1,&nbsp;zreg))</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_JR(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rs1&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.jr&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rs1)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rs1&nbsp;!=&nbsp;zreg<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_JALR&nbsp;:&nbsp;(regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_JALR(rs1)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rs1&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;0b1&nbsp;@&nbsp;rs1&nbsp;:&nbsp;regidx&nbsp;@&nbsp;0b00000&nbsp;@&nbsp;0b10<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rs1&nbsp;!=&nbsp;zreg<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_JALR(rs1))&nbsp;=<br>
&nbsp;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">execute(RISCV_JALR(EXTZ(0b0),&nbsp;rs1,&nbsp;ra))</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_JALR(rs1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rs1&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.jalr&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rs1)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rs1&nbsp;!=&nbsp;zreg<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_MV&nbsp;:&nbsp;(regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_MV(rd,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rs2&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;0b0&nbsp;@&nbsp;rd&nbsp;:&nbsp;regidx&nbsp;@&nbsp;rs2&nbsp;:&nbsp;regidx&nbsp;@&nbsp;0b10<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rs2&nbsp;!=&nbsp;zreg<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_MV(rd,&nbsp;rs2))&nbsp;=<br>
&nbsp;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">execute(RTYPE(rs2,&nbsp;zreg,&nbsp;rd,&nbsp;RISCV_ADD))</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_MV(rd,&nbsp;rs2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rs2&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.mv&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;reg_name(rs2)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rs2&nbsp;!=&nbsp;zreg<br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_EBREAK&nbsp;:&nbsp;unit<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(0, 85%, 80%)">C_EBREAK()</span><br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;0b1&nbsp;@&nbsp;0b00000&nbsp;@&nbsp;0b00000&nbsp;@&nbsp;0b10<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;C_EBREAK()&nbsp;=<br>
&nbsp;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">execute(EBREAK())</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_EBREAK()&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(0, 85%, 80%)">&quot;c.ebreak&quot;</span><br>
<br>
/*&nbsp;******************************************************************&nbsp;*/<br>
union&nbsp;clause&nbsp;ast&nbsp;=&nbsp;C_ADD&nbsp;:&nbsp;(regidx,&nbsp;regidx)<br>
<br>
mapping&nbsp;clause&nbsp;encdec_compressed&nbsp;=&nbsp;<span style="background-color: hsl(120, 85%, 80%)">C_ADD(rsd,&nbsp;rs2)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rsd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rs2&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;0b100&nbsp;@&nbsp;0b1&nbsp;@&nbsp;rsd&nbsp;:&nbsp;regidx&nbsp;@&nbsp;rs2&nbsp;:&nbsp;regidx&nbsp;@&nbsp;0b10<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rsd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rs2&nbsp;!=&nbsp;zreg<br>
<br>
function&nbsp;clause&nbsp;execute&nbsp;(C_ADD(rsd,&nbsp;rs2))&nbsp;=<br>
&nbsp;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">execute(RTYPE(rs2,&nbsp;rsd,&nbsp;rsd,&nbsp;RISCV_ADD))</span><br>
<br>
mapping&nbsp;clause&nbsp;assembly&nbsp;=&nbsp;C_ADD(rsd,&nbsp;rs2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rsd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rs2&nbsp;!=&nbsp;zreg<br>
&nbsp;&nbsp;&lt;-&gt;&nbsp;<span style="background-color: hsl(120, 85%, 80%)">&quot;c.add&quot;&nbsp;^&nbsp;spc()&nbsp;^&nbsp;reg_name(rsd)&nbsp;^&nbsp;sep()&nbsp;^&nbsp;reg_name(rs2)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rsd&nbsp;!=&nbsp;zreg&nbsp;&&nbsp;rs2&nbsp;!=&nbsp;zreg<br>
<br>
<br>
</code>
</body>
</html>